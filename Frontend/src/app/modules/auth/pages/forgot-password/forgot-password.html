<div class="auth-wrapper">
  <div class="auth-card">
    <div class="auth-left">
      <div class="logo">LoanSaathi</div>
      <h1>Reset Your Password üîê</h1>
      <p class="lead">
        Enter your registered email to receive a one-time password (OTP) to reset your password.
      </p>

      <!-- Error Message -->
      <div class="error-message" *ngIf="error">
        {{ error }}
      </div>

      <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
        <!-- Step 1: Email -->
        <div class="field">
          <label>Email address</label>
          <input
            type="email"
            formControlName="email"
            placeholder="you@example.com"
          />
          <button class="btn btn-primary" type="button" (click)="sendOtp()">
            Send OTP
          </button>
        </div>

        <!-- Step 2: OTP -->
        <div class="field" *ngIf="isOtpSent">
          <label>Enter OTP</label>
          <input
            type="text"
            formControlName="otp"
            maxlength="6"
            placeholder="Enter 6-digit OTP"
          />
        </div>

        <div *ngIf="isOtpSent">
          <div class="field">
            <label>New Password</label>
            <input
              type="password"
              formControlName="newPassword"
              placeholder="Enter new password"
            />
          </div>

          <div class="field">
            <label>Confirm Password</label>
            <input
              type="password"
              formControlName="confirmPassword"
              placeholder="Re-enter new password"
            />
          </div>

          <button class="btn btn-primary" type="submit">
            Reset Password
          </button>
        </div>

        <p class="small">
          Remember your password?
          <a routerLink="/auth/login">Login</a>
        </p>
      </form>
    </div>

    <div class="auth-right">
      <div class="overlay"></div>
      <div class="content">
        <h2>Stay Secure with LoanSaathi üîí</h2>
        <ul>
          <li>Two-step verification for added safety.</li>
          <li>Encrypted data and password protection.</li>
          <li>24/7 support for account recovery.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Loader -->
  <app-loader *ngIf="loading"></app-loader>
</div>
